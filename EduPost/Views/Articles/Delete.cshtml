@model EduPost.Models.Article

@{
    ViewData["Title"] = "Article Delete confirmation";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="~/mundana/assets/img/favicon.ico">
    <link rel="icon" type="image/png" href="~/mundana/assets/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Edu Post - @ViewData["Title"]</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700|Source+Sans+Pro:400,600,700" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- Main CSS -->
    <link href="~/mundana/assets/css/main.css" rel="stylesheet" />
</head>
<body style="margin: 0; padding: 0; margin-top: 70px">
    <!--------------------------------------
    NAVBAR
    --------------------------------------->
    <!-- End Navbar -->
    <!--------------------------------------
    HEADER
    --------------------------------------->
    <div class="container-fluid" stye="margin-top:50px;">
        <div class="jumbotron jumbotron-fluid mb-3 pt-0 pb-0 bg-lightblue position-relative">
            <div class="pl-4 pr-0 h-100 tofront">
                <div class="row justify-content-between">
                    <div class="col-md-8 pt-4 pb-4 align-self-center">
                        <h1 class="secondfont mb-3 font-weight-bold">Delete Article.</h1>
                        <h3 class="mb-3 text-danger">
                            Are you sure you want to delete this article?
                        </h3>
                        @* <a href="~/mundana/article.html" class="btn btn-dark">Read More</a> *@
                    </div>
                    <div class="col-md-6 d-none d-md-block pr-0" style="background-size:cover;background-image:url(~/mundana/assets/img/demo/home.jpg);">	</div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Header -->
    <!--------------------------------------
    MAIN
    --------------------------------------->

    <div class="container" style="border:none">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1>Delete</h1>

                <div>
                    <h4>@Model.ArticleTitle</h4>
                    <hr />
                    <dl class="row">
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.ArticleTitle)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.ArticleTitle)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Faculty)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.Faculty)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.UserID)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.UserID)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.CreatedDate)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.CreatedDate)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.StatusId)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.StatusId)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Public)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.Public)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Description)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.Description)
                        </dd>
                    </dl>

                    <h4>Uploaded files</h4>
                    @if (Model.Files != null && Model.Files.Any())
                    {
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>File name</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var file in Model.Files)
                                {
                                    <tr>
                                        <td>@file.FileName</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p>No file uploaded.</p>
                    }

                    @if (Model.Files.Any())
                    {
                        <a href="@Url.Action("DownloadArticleFiles", new { id = Model.ArticleId })" class="btn btn-primary">Download Files</a>
                    }

                    <div class="comments-section">
                        <h3>FeedBacks:</h3>
                        @if (Model.FeedBacks != null && Model.FeedBacks.Any())
                        {
                            <ul>
                                @foreach (var comment in Model.FeedBacks)
                                {
                                    <li>
                                        <strong>@comment.CreatedDate.ToString("dd MMM yyyy"): </strong>@comment.Content
                                        <br>
                                        <em>Posted by: @(comment.UserId.HasValue && ViewBag.Usernames.ContainsKey(comment.UserId.Value) ? ViewBag.Usernames[comment.UserId.Value] : "Unknown User")</em>
                                    </li>
                                }
                            </ul>
                        }
                        else
                        {
                            <p>No comments to display.</p>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>

    <form asp-action="Delete">
        <input type="hidden" asp-for="ArticleId" />
        <input type="submit" value="Delete" class="btn btn-danger" /> |
        <a asp-action="Index">Back to List</a>
    </form>

    <!--------------------------------------
    FOOTER
    --------------------------------------->
    <!-- End Footer -->
    <!--------------------------------------
    JAVASCRIPTS
    --------------------------------------->
    <script src="~/mundana/assets/js/vendor/jquery.min.js" type="text/javascript"></script>
    <script src="~/mundana/assets/js/vendor/popper.min.js" type="text/javascript"></script>
    <script src="~/mundana/assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/mundana/assets/js/functions.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    @section Scripts {
        @{
            await Html.RenderPartialAsync("_ValidationScriptsPartial");
        }
    }
</body>
</html>
